(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={container:"Container_container__1EpMp",title:"Container_title__1CxZJ"}},12:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3Xu9v",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__HZPrD"}},13:function(e,t,a){e.exports={overlay:"Modal_overlay__xWIoZ",modal:"Modal_modal__3isqg"}},16:function(e,t,a){e.exports={button:"Button_button__3Bdg7"}},21:function(e,t,a){},4:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__nMcd-",error:"ImageGallery_error__UZ43f",errorImage:"ImageGallery_errorImage__2E1tf",loader:"ImageGallery_loader__13lG4"}},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(5),o=a.n(n),s=(a(21),a(3)),i=a(9),l=(a(22),a(11)),u=a.n(l),m=a(1);var j=function(e){var t=e.title,a=e.children;return Object(m.jsxs)("section",{className:u.a.container,children:[t&&Object(m.jsx)("h2",{className:u.a.title,children:t}),a]})},b=a(2),d=a.n(b),h=a(6),g=a.n(h);function f(e){var t=e.onSubmit,a=Object(r.useState)(""),c=Object(s.a)(a,2),n=c[0],o=c[1],l=function(){o("")};return Object(m.jsx)("header",{className:g.a.searchbar,children:Object(m.jsxs)("form",{className:g.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==n.trim()?(t(n),l()):i.b.error("Enter request!")},children:[Object(m.jsx)("button",{type:"submit",disabled:!n,className:g.a.searchFormButton,children:Object(m.jsx)("span",{className:g.a.searchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:g.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:n,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}f.prototype={onSubmit:d.a.func.isRequired};var O=f,_=a(14),p="https://pixabay.com/api",x="23616749-9d77515f343e9cfce3b12231a",v="photo",y="horizontal",I=12;function w(e,t){var a="".concat(p,"/?q=").concat(e,"&page=").concat(t,"&key=").concat(x,"&image_type=").concat(v,"&orientation=").concat(y,"&per_page=").concat(I);return fetch(a).then((function(e){return 200!==e.status?Promise.reject():e.json()})).catch((function(e){return console.error}))}var S=a.p+"static/media/error.b241860c.jpg",F=a(4),k=a.n(F);var C=function(e){var t=e.message;return Object(m.jsxs)("div",{role:"alert",className:k.a.error,children:[Object(m.jsx)("img",{className:k.a.errorImage,src:S,alt:"error",width:"550"}),Object(m.jsx)("p",{children:t})]})},N=a(12),G=a.n(N),L=function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL,c=e.tags,n=e.onClick;return Object(m.jsx)("li",{className:G.a.imageGalleryItem,children:Object(m.jsx)("img",{className:G.a.imageGalleryItemImage,src:a,datasrc:r,alt:c,onClick:n})},t)};var B=function(e){var t=e.images,a=e.onClick;return Object(m.jsx)("ul",{className:k.a.imageGallery,children:t.map((function(e){return Object(m.jsx)(L,{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags,onClick:a},e.id)}))})},R=a(15),E=a.n(R);var U=function(){return Object(m.jsx)("div",{className:k.a.loader,children:Object(m.jsx)(E.a,{type:"Rings",color:"00BFFF",height:250,width:250,timeout:3e3})})},q=a.p+"static/media/camera-roll.5511c8c8.jpg";var M=function(){return Object(m.jsx)("div",{role:"alert",className:k.a.ImageBgd,children:Object(m.jsx)("img",{src:q,alt:"cameraRoll"})})},Z=a(13),J=a.n(Z),P=document.querySelector("#modal-root");var X=function(e){var t=e.onClose,a=e.largeImageURL,c=e.alt;Object(r.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&t()};return Object(n.createPortal)(Object(m.jsx)("div",{className:J.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(m.jsx)("div",{className:J.a.modal,children:Object(m.jsx)("img",{src:a,alt:c})})}),P)},A=a(16),D=a.n(A);var T=function(e){var t=e.onClick;return Object(m.jsx)("button",{className:D.a.button,type:"button",onClick:t,id:"btn",children:"Load more"})},z="idle",H="pending",V="resolved",W="rejected";function K(e){var t=e.query,a=Object(r.useState)([]),c=Object(s.a)(a,2),n=c[0],o=c[1],i=Object(r.useState)(z),l=Object(s.a)(i,2),u=l[0],j=l[1],b=Object(r.useState)(!1),d=Object(s.a)(b,2),h=d[0],g=d[1],f=Object(r.useState)(1),O=Object(s.a)(f,2),p=O[0],x=O[1],v=Object(r.useState)(""),y=Object(s.a)(v,2),I=y[0],S=y[1],F=Object(r.useState)(""),k=Object(s.a)(F,2),N=k[0],G=k[1];Object(r.useEffect)((function(){t&&(x(1),j(H),w(t).then((function(e){o(e.hits),x((function(e){return e+1})),j(V)})).catch((function(e){return j(W)})))}),[t]);var L=function(e,t){g(!h),S(e),G(t)};return u===z?Object(m.jsx)(M,{}):u===H?Object(m.jsx)(U,{}):u===W?Object(m.jsx)(C,{message:"No results were found for your search"}):u===V?Object(m.jsxs)(m.Fragment,{children:[h&&Object(m.jsx)(X,{onClose:L,largeImageURL:I,alt:N}),Object(m.jsx)(B,{images:n,onClick:function(e){var t=e.target.getAttribute("datasrc"),a=e.target.getAttribute("alt");L(t,a)}}),Object(m.jsx)(T,{onClick:function(){j(H),w(t,p).then((function(e){if(0===e.hits.length)throw new Error;o((function(t){return[].concat(Object(_.a)(t),Object(_.a)(e.hits))})),x((function(e){return e+1})),j(V),document.getElementById("btn").scrollIntoView({block:"start",behavior:"smooth"})})).catch((function(e){return j(W)}))}})]}):void 0}K.prototype={query:d.a.string.isRequired};var Q=K;a(44);var Y=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(m.jsxs)(j,{children:[Object(m.jsx)(O,{onSubmit:function(e){c(e)}}),Object(m.jsx)(Q,{query:a}),Object(m.jsx)(i.a,{autoClose:3e3})]})};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(Y,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__1UbO2",searchForm:"Searchbar_searchForm__4g0Fg",searchFormButton:"Searchbar_searchFormButton__3i2XS",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__Xp5wF",searchFormInput:"Searchbar_searchFormInput__2vw6k"}}},[[45,1,2]]]);
//# sourceMappingURL=main.ddb062a2.chunk.js.map