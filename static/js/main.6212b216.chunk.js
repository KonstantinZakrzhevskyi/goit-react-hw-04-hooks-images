(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={container:"Container_container__1EpMp",title:"Container_title__1CxZJ"}},13:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3Xu9v",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__HZPrD"}},14:function(e,t,a){e.exports={overlay:"Modal_overlay__xWIoZ",modal:"Modal_modal__3isqg"}},17:function(e,t,a){e.exports={button:"Button_button__3Bdg7"}},22:function(e,t,a){},3:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__nMcd-",error:"ImageGallery_error__UZ43f",errorImage:"ImageGallery_errorImage__2E1tf",loader:"ImageGallery_loader__13lG4"}},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),o=a.n(c),s=(a(22),a(4)),i=a(5),l=a(7),u=a(6),m=a(10),h=(a(23),a(12)),g=a.n(h),d=a(1);var j=function(e){var t=e.title,a=e.children;return Object(d.jsxs)("section",{className:g.a.container,children:[t&&Object(d.jsx)("h2",{className:g.a.title,children:t}),a]})},b=a(9),p=a.n(b),f=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){var a=e.state.query;t.preventDefault(),""!==a.trim()?(e.props.onSubmit(a),e.reset()):m.b.error("Enter request!")},e.reset=function(){e.setState({query:""})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.query;return Object(d.jsx)("header",{className:p.a.searchbar,children:Object(d.jsxs)("form",{className:p.a.searchForm,onSubmit:this.handleSubmit,children:[Object(d.jsx)("button",{type:"submit",disabled:!e,className:p.a.searchFormButton,children:Object(d.jsx)("span",{className:p.a.searchFormButtonLabel,children:"Search"})}),Object(d.jsx)("input",{className:p.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChange})]})})}}]),a}(r.Component),v=f,y=a(15),O="https://pixabay.com/api",_="23616749-9d77515f343e9cfce3b12231a",x="photo",I="horizontal",w=12;function C(e,t){var a="".concat(O,"/?q=").concat(e,"&page=").concat(t,"&key=").concat(_,"&image_type=").concat(x,"&orientation=").concat(I,"&per_page=").concat(w);return fetch(a).then((function(e){return 200!==e.status?Promise.reject():e.json()})).catch((function(e){return console.error}))}var k=a.p+"static/media/error.b241860c.jpg",S=a(3),F=a.n(S);var G=function(e){var t=e.message;return Object(d.jsxs)("div",{role:"alert",className:F.a.error,children:[Object(d.jsx)("img",{className:F.a.errorImage,src:k,alt:"error",width:"550"}),Object(d.jsx)("p",{children:t})]})},L=a(13),N=a.n(L),q=function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL,n=e.tags,c=e.onClick;return Object(d.jsx)("li",{className:N.a.imageGalleryItem,children:Object(d.jsx)("img",{className:N.a.imageGalleryItemImage,src:a,datasrc:r,alt:n,onClick:c})},t)};var U=function(e){var t=e.images,a=e.onClick;return Object(d.jsx)("ul",{className:F.a.imageGallery,children:t.map((function(e){return Object(d.jsx)(q,{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags,onClick:a},e.id)}))})},B=a(16),M=a.n(B);var R=function(){return Object(d.jsx)("div",{className:F.a.loader,children:Object(d.jsx)(M.a,{type:"Rings",color:"00BFFF",height:250,width:250,timeout:3e3})})},E=a.p+"static/media/camera-roll.5511c8c8.jpg";var D=function(){return Object(d.jsx)("div",{role:"alert",className:F.a.ImageBgd,children:Object(d.jsx)("img",{src:E,alt:"cameraRoll"})})},A=a(14),Z=a.n(A),J=document.querySelector("#modal-root"),K=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){var a=e.props.onClose;"Escape"===t.code&&a()},e.handleBackdropClick=function(t){var a=e.props.onClose;t.currentTarget===t.target&&a()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.largeImageURL,a=e.alt;return Object(c.createPortal)(Object(d.jsx)("div",{className:Z.a.overlay,onClick:this.handleBackdropClick,children:Object(d.jsx)("div",{className:Z.a.modal,children:Object(d.jsx)("img",{src:t,alt:a})})}),J)}}]),a}(r.Component),P=K,X=a(17),T=a.n(X);var W=function(e){var t=e.onClick;return Object(d.jsx)("button",{className:T.a.button,type:"button",onClick:t,id:"btn",children:"Load more"})},z="idle",H="pending",Q="resolved",V="rejected",Y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={images:[],status:z,showModal:!1,page:1,largeImageURL:"",alt:""},e.addImages=function(){C(e.props.query,e.state.page).then((function(t){e.setState((function(e){var a=e.images,r=e.page;return{images:[].concat(Object(y.a)(a),Object(y.a)(t.hits)),status:Q,page:r+1}}))})).catch((function(t){return e.state({status:V})}))},e.toggleModal=function(t,a){e.setState((function(e){return{showModal:!e.showModal,largeImageURL:t,alt:a}}))},e.onGalleryCardClick=function(t){var a=t.target.getAttribute("datasrc"),r=t.target.getAttribute("alt");e.toggleModal(a,r)},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,r=e.query,n=this.props.query;r!==n&&(this.setState({status:H}),C(n,this.state.page).then((function(e){if(0===e.hits.length)throw Error();a.setState((function(t){var a=t.page;return{images:e.hits,status:Q,page:a+1}}))})).catch((function(e){return a.setState({status:V})})))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.status,r=e.showModal,n=e.largeImageURL,c=e.alt;return a===z?Object(d.jsx)(D,{}):a===H?Object(d.jsx)(R,{}):a===V?Object(d.jsx)(G,{message:"No results were found for your search"}):a===Q?Object(d.jsxs)(d.Fragment,{children:[r&&Object(d.jsx)(P,{onClose:this.toggleModal,largeImageURL:n,alt:c}),Object(d.jsx)(U,{images:t,onClick:this.onGalleryCardClick}),Object(d.jsx)(W,{onClick:this.addImages})]}):void 0}}]),a}(r.Component),$=Y,ee=(a(45),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.onSubmit=function(t){e.setState({query:t})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.query;return Object(d.jsxs)(j,{children:[Object(d.jsx)(v,{onSubmit:this.onSubmit}),Object(d.jsx)($,{query:e}),Object(d.jsx)(m.a,{autoClose:3e3})]})}}]),a}(r.Component)),te=ee;o.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(te,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__1UbO2",searchForm:"Searchbar_searchForm__4g0Fg",searchFormButton:"Searchbar_searchFormButton__3i2XS",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__Xp5wF",searchFormInput:"Searchbar_searchFormInput__2vw6k"}}},[[46,1,2]]]);
//# sourceMappingURL=main.6212b216.chunk.js.map